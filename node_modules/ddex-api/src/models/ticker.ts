import { TickerJson } from "../types"
import { BigNumber } from "bignumber.js";

export class Ticker {
  public pair: string
  public lastPriceIncrease: BigNumber
  public lastPrice?: BigNumber
  public price24h?: BigNumber
  public amount24h: BigNumber
  public baseTokenVolume24h: BigNumber

  static fromJSON(tickerJson: TickerJson): Ticker {
    const ticker = new Ticker
    ticker.pair = tickerJson.pair
    ticker.lastPriceIncrease = new BigNumber(tickerJson.lastPriceIncrease)
    ticker.amount24h = new BigNumber(tickerJson.amount24h)

    if (tickerJson.lastPrice) {
      ticker.lastPrice = new BigNumber(tickerJson.lastPrice)
    }

    if (tickerJson.price24h) {
      ticker.price24h = new BigNumber(tickerJson.price24h)
    }

    ticker.baseTokenVolume24h = new BigNumber(tickerJson.baseTokenVolume24h)

    return ticker
  }
}