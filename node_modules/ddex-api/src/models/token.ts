import { TokenJson } from "../types"
import { BigNumber } from "bignumber.js";

export class Token {
  id: string
  name: string
  symbol: string
  address: string
  decimals: number
  pricePrecision: number
  priceDecimals: number
  amountDecimals: number
  minimumAmountSize: BigNumber

  public pair(): string {
    return `${this.symbol}-ETH`
  }

  static fromJSON(tokenJson: TokenJson): Token {
    const token = new Token()
    token.id = tokenJson.id
    token.name = tokenJson.name
    token.symbol = tokenJson.symbol
    token.address = tokenJson.address
    token.decimals = tokenJson.decimals
    token.pricePrecision = tokenJson.pricePrecision
    token.priceDecimals = tokenJson.priceDecimals
    token.amountDecimals = tokenJson.amountDecimals
    token.minimumAmountSize = new BigNumber(tokenJson.minimumAmountSize)
    return token
  }
}