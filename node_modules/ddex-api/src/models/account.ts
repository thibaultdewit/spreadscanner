import * as _ from "lodash"
import { AccountJson, LockedBalances } from "../types";
import { BigNumber } from "bignumber.js";

export class Account {
  id: string
  lockedBalances: LockedBalances

  static fromJSON(accountJson: AccountJson): Account {
    const account = new Account()
    account.id = accountJson.id
    account.lockedBalances = {}

    _.each(accountJson.lockedBalances, (value: string, key: string) => {
      account.lockedBalances[key] = new BigNumber(value)
    })

    return account
  }
}